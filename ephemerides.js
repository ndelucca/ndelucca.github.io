(()=>{"use strict";(()=>{const e=(e,t)=>Number(e.year)-Number(t.year);window.addEventListener("load",async()=>{const t=document.querySelector("#todays-events");if(!t)return void console.error("Element #todays-events not found");const n=document.getElementById("event-template");if(!n)return console.error("Element #event-template not found"),void(t.innerHTML="Failed to load events template");try{t.innerHTML="Give me a sec...";const o=await(async()=>{const t=new Date,n=await fetch(`https://en.wikipedia.org/api/rest_v1/feed/onthisday/events/${t.getMonth()}/${t.getDay()}`,{headers:{"Content-Type":"application/json"}});return(await n.json()).events.sort(e)})();t.innerHTML="";for(const e of o){const{year:o,text:r}=e,a=n.content.cloneNode(!0),s=a.querySelector(".title"),i=a.querySelector(".content");s&&i?(s.innerHTML=o,i.innerHTML=r,t.appendChild(a)):console.warn("Event template missing .title or .content element")}}catch(e){console.error("Failed to load ephemerides:",e),t.innerHTML="Failed to load events. Please try again later."}})})()})();